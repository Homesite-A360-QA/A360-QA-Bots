{"nodes":[{"uid":"2d2b82ec-bf44-489e-87d2-e27a8594f1df","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"139ac644-6d52-4ccb-8e9a-f5fbe2bde9d3","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"934ed0e7-d00b-4a5e-ba2a-9af70f8735f7","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------- 1. Script Name : SetLogFilePath---------------------------------------------------------------------\n"}}]},{"uid":"c553ef39-d021-4ff1-9217-ecdc120a5901","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------- 2: Purpose :checks Log Floder available, If not Creating Logs folder---------------------------------------------------------------------\n"}}]},{"uid":"eb715a65-38ea-40ee-927d-98760b38a832","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorFlag"}},{"uid":"c4fdd5c4-4042-4fd9-a26a-bc49a98bf087","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varErrorFlag.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorFlag"}},{"uid":"ef1b11e1-8c82-4e51-ad82-938f5a286705","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Log"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}]}],"children":[{"uid":"fa91a043-4c95-4c98-8e29-3b37e5398cc3","commandName":"createFolder","packageName":"Folder","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Log"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}]},{"uid":"2518b728-4a16-4bca-8942-335d7f802a87","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------- 3: Purpose : In Log folder checking  OLS_BOT Fodler available, If not creating it---------------------------------------------------------------------\n"}}]},{"uid":"618b1ca5-bd5f-4608-8fc4-c614f4b417da","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Log\\OLS_BOT"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}]}],"children":[{"uid":"e11db573-906e-4c97-9d21-92e07a0bbbfe","commandName":"createFolder","packageName":"Folder","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Log\\OLS_BOT"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}]},{"uid":"07bb1331-4799-49c1-b894-1def77a3ce3c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Log\\OLS_BOT\\log.csv"}}],"returnTo":{"type":"VARIABLE","variableName":"varLogFilePath"}},{"uid":"93ccaf48-536c-446f-ac83-d27d0bc2b019","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varLogFilePath.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varLogFilePath"}},{"uid":"3c582012-87e5-4f2e-b5bc-e62d2560d6e2","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------- 4: Log File creation, Checks Log file created, If not create log file and If it exceeds file size, renaming it and creating to New---------------------------------------------------------------------\n"}}]},{"uid":"7e1ed421-7234-44f5-b6a6-787a9f3e760e","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"fileNotExists","packageName":"File"},"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$varLogFilePath$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}]}],"children":[{"uid":"4ba7968f-829f-4390-af70-d78c6726fa49","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$varLogFilePath$"}},{"name":"logContent","value":{"type":"STRING","string":"Time, ErrorLevel,Policy Number, BOTName, Msg, Details"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}]},{"uid":"82773a51-0b97-436e-a0ad-0375470c0f3e","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"fileSize","packageName":"File"},"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$varLogFilePath$"}},{"name":"operator","value":{"type":"STRING","string":"GTE"}},{"name":"fileSize","value":{"type":"NUMBER","number":"25000"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}]}],"children":[{"uid":"5c9ee14d-f11d-43c4-8c02-394117e8d96f","commandName":"renameFiles","packageName":"File","attributes":[{"name":"newFileName","value":{"type":"STRING","expression":"$varLogFilePath$_$System:Year.Number:toString$_$System:Month.Number:toString$_$System:Day.Number:toString$_$System:Hour.Number:toString$_$System:Minute.Number:toString$.csv"}},{"name":"sizeValue","value":{"type":"STRING","string":"Atleast"}},{"name":"dateValue","value":{"type":"STRING","string":"Created"}},{"name":"filePath","value":{"type":"FILE","expression":"file://$varLogFilePath$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"4f9dc194-d851-4105-9c20-3b2587e1fca3","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$varLogFilePath$"}},{"name":"logContent","value":{"type":"STRING","string":"Time, ErrorLevel,Policy Number,BOTName, Msg, Details"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}]}],"branches":[{"uid":"aea54128-0b0c-4137-9401-8d1dbea38764","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"259d3f6a-c323-410a-9edb-317b766f134c","commandName":"assign","packageName":"Boolean","attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"M-IsBotExecutedSuccessfully"}},{"uid":"111704d4-d247-4b3c-be2b-30cd4d6a67a2","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorFlag"}},{"uid":"252c4c62-d2c2-4d0a-88f6-36242ea97884","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varErrorFlag.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorFlag"}}]}]}],"branches":[{"uid":"ecabfe32-8bfe-471b-bd2f-2d3343eb8c98","commandName":"finally","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"ee233214-616b-4e11-b413-540906f81053","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$M-IsBotExecutedSuccessfully.Boolean:toString$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"false"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}]}],"children":[{"uid":"df5de11d-6982-456c-8346-0ce9d9e38c04","commandName":"throw","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"message","value":{"type":"STRING","string":"You chose to mark the bot as 'Failed' in case of any encountered errors."}}]}]}]}]}],"variables":[{"name":"varLogFilePath","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"varErrorFlag","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"M-IsBotExecutedSuccessfully","description":"","type":"BOOLEAN","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":"true"}},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false}],"breakpoints":[],"packages":[{"name":"ErrorHandler","version":"2.7.0-20210722-143834"},{"name":"Comment","version":"2.7.0-20210722-143743"},{"name":"String","version":"4.3.0-20210722-144812"},{"name":"LegacyAutomation","version":"4.4.0-20210803-013138"},{"name":"If","version":"3.0.0-20210722-143856"},{"name":"System","version":"3.4.0-20210728-133940"},{"name":"Folder","version":"5.0.0-20210722-143841"},{"name":"File","version":"5.0.0-20210727-180900"},{"name":"LogToFile","version":"3.1.0-20210722-144333"},{"name":"Number","version":"3.1.1-20210821-042642"},{"name":"Boolean","version":"2.1.0-20210722-143718"}]}