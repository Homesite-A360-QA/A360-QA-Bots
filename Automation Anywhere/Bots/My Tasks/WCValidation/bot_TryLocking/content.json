{"triggers":[],"nodes":[{"uid":"8cc7c2c4-3922-4064-88ba-de2fd0e61118","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"3b6cf4b7-2cb6-4f50-9273-ca80c82e0d89","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"f8151707-285a-40bf-83f7-a531ecc60cfd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"False"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorStatus"}},{"uid":"5413e070-e223-47be-8497-1b2e0219cb3e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varErrorStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorStatus"}},{"uid":"6c4c7d59-3465-4175-85f9-50ce3bd68aa1","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Try locking the folder for this machine ********************************"}}]},{"uid":"d2f97013-efb1-428a-a2aa-3570a85abfdd","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"0.1 Initial status of LockingStatus flag"}}]},{"uid":"9b7051bf-1544-4aea-a777-af651914a41c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"ed69cd3f-e4e6-49ae-8526-a14ff590f3e4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varLockingStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"3d56fcb4-9d71-4e2e-941d-ca4ad1dea8b0","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"0.2 Random delay if two machines trying to lock the folder simulatenously"}}]},{"uid":"75c39e0d-0f77-4b2e-8884-75264ce1f819","commandName":"delay","packageName":"Delay","disabled":false,"attributes":[{"name":"from","value":{"type":"NUMBER","number":"1"}},{"name":"to","value":{"type":"NUMBER","number":"3"}},{"name":"timeUnit","value":{"type":"STRING","string":"SECONDS"}},{"name":"delayType","value":{"type":"STRING","string":"RANDOM"}}]},{"uid":"34f3dc01-a5c5-470d-8270-97bc87fc6804","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"----------"}}]},{"uid":"b4cf4ea8-1376-43b3-9ebd-8b5bec5f7b0f","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"1.1 Check if this machine has already locked the folder"}}]},{"uid":"0468329d-bc52-4171-9039-2428036083ae","commandName":"systemInformation","packageName":"System","disabled":false,"attributes":[{"name":"systemNameBySelection","value":{"type":"STRING","string":"USERNAME","label":"USERNAME"}},{"name":"variableOption","value":{"type":"STRING","string":"BY_SELECTION"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-1"}},{"uid":"5bec746f-0242-4584-a9d2-75c34a199432","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"0a219efb-b354-4ea1-ae90-99ffec124f7e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"109758da-ff87-41a5-aa72-cc1aeb40f662","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varLockingStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"f3add397-388e-40eb-8631-02def603c34d","commandName":"stopTask","packageName":"TaskBot","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$varFolder$/$System:Machine$.$m-string-1$.lock"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"fileExists","packageName":"File"}}]},{"uid":"2b016421-77d3-43fb-a728-2f32835a6b2d","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"1.2 Create lock file"}}]},{"uid":"e1649710-f3e5-4554-b2bf-f368999c5089","commandName":"systemInformation","packageName":"System","disabled":false,"attributes":[{"name":"systemNameBySelection","value":{"type":"STRING","string":"USERNAME","label":"USERNAME"}},{"name":"variableOption","value":{"type":"STRING","string":"BY_SELECTION"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-1"}},{"uid":"02840d58-07f2-4e8a-bba4-5baa98686fa3","commandName":"createFile","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$varFolder$/$System:Machine$.$m-string-1$.lock"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"954b4924-e917-4d8a-81ab-c58f060a266e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"----------"}}]},{"uid":"4ce7b829-7910-4f6b-b376-e335dd221384","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"2. Check how many machines locked the folder"}}]},{"uid":"7a8510b0-e080-429d-813f-51facbe408e1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"varTemp"}},{"uid":"fc704c38-1bd5-44d1-8d5d-51debd70b91f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varTemp.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varTemp"}},{"uid":"86960ec1-cb27-4659-9a9f-a5014bca6338","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"18568aae-1d18-4ce0-a067-48f7b1652965","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"46086040-c69a-4cf5-82b1-2e872d7192a3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"28b15fce-7b1e-446d-9022-1359223ddb00","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"3901a7cf-7718-49e3-a687-16ed858aed8d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varTemp$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"varTemp"}},{"uid":"a251205b-0e51-4894-aee2-5f86461e8526","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varTemp.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varTemp"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Loop-Files-1{extension}$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"lock"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"Loop-Files-1"},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$varFolder$"}}],"value":{"type":"ITERATOR","iteratorName":"loop.iterators.files","packageName":"File"}},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}]},{"uid":"7b62c80b-cf23-4222-978f-ac38c4243418","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If lockedBy>1 then remove the lock and set lockstatus=failed"}}]},{"uid":"51fd8332-dc80-4471-bcef-d31131a16f96","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"16ca5613-ea59-41ae-be76-feac3039822a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"f2a36e35-3fe7-46d2-aa61-2b347453ed16","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varLockingStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"0c395b30-2eda-4262-bcc4-bc8859e4c14d","commandName":"systemInformation","packageName":"System","disabled":false,"attributes":[{"name":"systemNameBySelection","value":{"type":"STRING","string":"USERNAME","label":"USERNAME"}},{"name":"variableOption","value":{"type":"STRING","string":"BY_SELECTION"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-1"}},{"uid":"10780137-30c8-4f2b-9773-55b40a921766","commandName":"deleteFiles","packageName":"File","disabled":false,"attributes":[{"name":"sizeValue","value":{"type":"STRING","string":"Atleast"}},{"name":"dateValue","value":{"type":"STRING","string":"Created"}},{"name":"filePath","value":{"type":"FILE","expression":"file://$varFolder$/$System:Machine$.$m-string-1$.lock*"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[{"uid":"e1c292b7-9970-4724-8a2d-fd1f356a9381","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"ba668482-b76a-43d1-8aa7-83509fa3849e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}},{"uid":"bb2f8851-ca4f-4403-817e-652a838208a7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varLockingStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varLockingStatus"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$varTemp$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"1"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"42742ed5-abfc-4a38-91c3-ebe1160925ed","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"----------"}}]}],"branches":[{"uid":"ae1af0c9-3899-405c-835f-d7b103829833","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"54e44f5d-1c41-4c5d-8c30-9ddbf360ce7b","commandName":"assign","packageName":"Boolean","disabled":false,"attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"M-IsBotExecutedSuccessfully"}},{"uid":"d2851042-634e-4557-beea-0c5b5e9118da","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"True"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorStatus"}},{"uid":"6ca4558c-8826-442f-a7e7-c889322ebb0b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$varErrorStatus.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"varErrorStatus"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]}],"branches":[{"uid":"893d270e-bf88-42de-b9a3-ec5eb7f3ebfe","commandName":"finally","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"87cf8e6a-7996-4114-839e-b67b5d855cd9","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"TryLocking\n----------------------\n$Error-Description$\n$Error-LineNumber.Number:toString$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"2"}}]},{"uid":"84b00ae1-89f8-41f7-9759-82598bfe9b6d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"c201916a-8bf8-471a-ac22-dfb37d78d6d4","commandName":"throw","packageName":"ErrorHandler","disabled":false,"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"message","value":{"type":"STRING","expression":"$Error-Description$ Exception occurred at line number $Error-LineNumber.Number:toString$. You chose to mark the bot as 'Failed' in case of any encountered errors."}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$M-IsBotExecutedSuccessfully.Boolean:toString$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"false"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}]}]}],"variables":[{"name":"varFolder","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"varTemp","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"varLockingStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"varErrorStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"M-IsBotExecutedSuccessfully","description":"","type":"BOOLEAN","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":"true"}},{"name":"Loop-Files","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false},{"name":"Loop-Files-1","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-string-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"window-1-1-1-1-1","description":"","type":"WINDOW","readOnly":true,"input":false,"output":false,"defaultValue":{"type":"WINDOW","window":{"name":"*aravind*","path":"","class":"","handle":"0","isChild":false,"location":{"top":0,"left":0},"size":{"height":0,"width":0}}}}],"breakpoints":[],"packages":[{"name":"Boolean","version":"2.1.0-20210722-143718"},{"name":"Comment","version":"2.7.0-20210722-143743"},{"name":"Delay","version":"3.1.0-20210722-143809"},{"name":"ErrorHandler","version":"2.7.0-20210722-143834"},{"name":"File","version":"5.0.0-20210727-180900"},{"name":"If","version":"3.0.0-20210722-143856"},{"name":"LegacyAutomation","version":"4.4.0-20210803-013138"},{"name":"Loop","version":"3.0.0-20210722-144335"},{"name":"MessageBox","version":"3.0.0-20210722-144335"},{"name":"Number","version":"3.1.1-20210821-042642"},{"name":"String","version":"4.3.0-20210722-144812"},{"name":"System","version":"3.4.0-20210728-133940"},{"name":"TaskBot","version":"2.1.0-20210716-100552"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"1","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_LOW"}}